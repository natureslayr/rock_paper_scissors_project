<!DOCTYPE html>
<html lang = en>
  <head>
    <meta charset = "UTF-8">
  </head>
  <body>
    <script>
      function getComputerChoice() {
        let computerChoice = Math.floor(Math.random()*3+1);
        if (computerChoice === 1) {
          return("rock");
        }
        else if (computerChoice === 2) {
          return("paper");
        }
        else {
          return("scissors");
        }
      }     

      function getPlayerChoice() {
        let playerChoice = window.prompt("Enter your Guess").toLowerCase();
        return playerChoice;
      }

      function playRound(playerChoice, computerChoice) {
        if (playerChoice == "rock") {
          if (computerChoice == "paper") {
            return "You Lose! Paper beats Rock";
          }
          else if (computerChoice == "scissors") {
            return "You Win! Rock beats Scissors";
          }
          else {
           return "Tie! Try again!";
          }
        }
        else if (playerChoice == "paper") {
          if (computerChoice == "rock") {
            return "You Win! Paper beats Rock";
          }
          else if (computerChoice == "scissors") {
            return "You Lose! Scissors beats Paper";
          }
          else {
            return "Tie! Try again!";
          }
        }
        else if (playerChoice == "scissors") {
          if (computerChoice == "rock") {
            return "You Lose! Rock beats Scissors";
          }
          else if (computerChoice == "paper") {
            return "You Win! Scissors beats Paper";
          }
          else if (playerChoice == computerChoice) {
            return "Tie! Try again!";
          }
          else {
            return "That's not an option! Try again!";
          }
        }
      }

      function game() {
        let playerScore = 0;
        let computerScore = 0;
        let turn = 5;
        for (let i = 5; i > 0; i--) {
          let computerChoice = getComputerChoice();
          let playerChoice = getPlayerChoice();
          playRound(playerChoice, computerChoice);
          let result = playRound(playerChoice, computerChoice);
          turn --;

          if (result == "You Win! Paper beats Rock" || result == "You Win! Rock beats Scissors" || result == "You Win! Scissors beats Paper") {
          playerScore ++;
          }
          else if (result == "You Lose! Rock beats Scissors" || result == "You Lose! Scissors beats Paper" || result == "You Lose! Paper beats Rock") {
          computerScore ++;
          }

        console.log(`Player Guess: ${playerChoice}`);
        console.log(`Computer Guess: ${computerChoice}`);
        console.log(result);
        console.log(`Player Score: ${playerScore}`);
        console.log(`Computer Score: ${computerScore}`);
        console.log("");
        }

        if (turn === 0) {
          let winner = "";
          if (playerScore > computerScore) {
            winner = "Congratulations! You Win!";
          }
          else {
            winner = "Uh Oh! You Lost!";
          }
          console.log(winner);
        }
        
      }

      game()
      
    </script>
  </body>
</html>