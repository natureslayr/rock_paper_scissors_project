<!DOCTYPE html>
<html lang = en>
  <head>
    <meta charset = "UTF-8">
  </head>
  <body>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
    <div id="computerGuess"></div>
    <div id="playerGuess"></div>
    <div id="results"></div>
    <div id="playerTot"></div>
    <div id="computerTot"></div>
    <div id="winner"></div>

    <script>
      const results = document.querySelector("#results");
      const computerGuess = document.querySelector("#computerGuess");
      const playerGuess = document.querySelector("#playerGuess");
      const playerTot = document.querySelector("#playerTot");
      const computerTot = document.querySelector("#computerTot");
      const winner = document.querySelector("#winner");

      function getComputerChoice() {
        let computerChoice = Math.floor(Math.random()*3+1);
        if (computerChoice === 1) {
          return("rock");
        }
        else if (computerChoice === 2) {
          return("paper");
        }
        else {
          return("scissors");
        }
      }

      let playerScore = 0;
      let computerScore = 0;
      let playerChoice;
      let computerChoice = getComputerChoice();
      const buttons = document.querySelectorAll('button');
      buttons.forEach((button) => {
        button.addEventListener("click", () => {
            playerChoice = button.id;
            let computerChoice = getComputerChoice();
            playRound(playerChoice,computerChoice);
            playerGuess.textContent = `Player Guess: ${playerChoice}`;
            computerGuess.textContent = `Computer Guess: ${computerChoice}`;
            playerTot.textContent = `Player Score: ${playerScore}`;
            computerTot.textContent = `Computer Score: ${computerScore}`;
            if (playerScore == 5 || computerScore == 5) {
              playerScore = 0;
              computerScore = 0;
              if (playerScore > computerScore) {
                winner.textContent = "Congratulations, You Win!"
              }
              else {
                winner.textContent = "Better luck next time, You Lose!"
              }
            }
            else {
              winner.textContent = "";
            }
          });
        });
      
      function playRound(playerChoice, computerChoice) {
        if (playerChoice == "rock") {
          if (computerChoice == "paper") {
            //results.textContent = "You Lose! Paper beats Rock";
            computerScore ++;
          }
          else if (computerChoice == "scissors") {
            //results.textContent = "You Win! Rock beats Scissors";
            playerScore ++;
          }
          else {
            //results.textContent = "Tie! Try again!";
          }
        }
        else if (playerChoice == "paper") {
          if (computerChoice == "rock") {
            //results.textContent = "You Win! Paper beats Rock";
            playerScore ++;
          }
          else if (computerChoice == "scissors") {
            //results.textContent = "You Lose! Scissors beats Paper";
            computerScore ++;
          }
          else {
            //results.textContent = "Tie! Try again!";
          }
        }
        else if (playerChoice == "scissors") {
          if (computerChoice == "rock") {
            //results.textContent = "You Lose! Rock beats Scissors";
            computerScore ++;
          }
          else if (computerChoice == "paper") {
            //results.textContent = "You Win! Scissors beats Paper";
            playerScore ++;
          }
          else if (playerChoice == computerChoice) {
            //results.textContent = "Tie! Try again!";
          }
          else {
            //results.textContent = "That's not an option! Try again!";
          }
        }
      }

    </script>
  </body>
</html>